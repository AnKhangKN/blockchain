frontend/
│
├── package.json
├── next.config.js
├── tsconfig.json
├── .env.local                   # Chứa RPC_URL, CONTRACT_ADDRESS
│
├── public/
│   ├── logo.png
│   ├── banner.png
│   └── icons/
│   ├── src/app/
│   │
│   ├── layout.tsx                # Root layout chung
│   ├── login/page.tsx            # Login MetaMask
│   │
│   ├── (admin)/                  # Layout dành riêng cho Admin
│   │   ├── layout.tsx            # Sidebar + Header cho Admin
│   │   └── dashboard/
│   │       ├── page.tsx
│   │       ├── teachers/
│   │       ├── students/
│   │       ├── subjects/
│   │       └── grades/
│   │
│   ├── (teacher)/                # Layout dành riêng cho Giáo viên
│   │   ├── layout.tsx
│   │   └── dashboard/
│   │       ├── page.tsx
│   │       ├── students/
│   │       ├── subjects/
│   │       └── grades/
│   │
│   ├── (student)/                # Layout dành riêng cho Sinh viên
│   │   ├── layout.tsx
│   │   └── dashboard/
│   │       ├── page.tsx
│   │       └── history/page.tsx
│    
│    
│   │   │
│   │   └── not-found.tsx        # Trang 404
│   │
│   ├── components/
│   │   ├── layout/
│   │   │   ├── Sidebar.tsx
│   │   │   ├── Header.tsx
│   │   │   └── Footer.tsx
│   │   ├── forms/
│   │   │   ├── AddStudentForm.tsx
│   │   │   ├── AddTeacherForm.tsx
│   │   │   ├── AddSubjectForm.tsx
│   │   │   └── AddGradeForm.tsx
│   │   ├── blockchain/
│   │   │   ├── ConnectWallet.tsx
│   │   │   ├── ContractInfo.tsx
│   │   │   └── TransactionStatus.tsx
│   │   ├── ui/
│   │   │   ├── Button.tsx
│   │   │   ├── Table.tsx
│   │   │   ├── Modal.tsx
│   │   │   ├── Input.tsx
│   │   │   └── Card.tsx
│   │   └── shared/
│   │       ├── Loader.tsx
│   │       └── Toast.tsx
│   │
│   ├── hooks/
│   │   ├── useContract.ts        # Gọi contract qua ethers.js
│   │   ├── useMetamask.ts        # Kết nối MetaMask
│   │   ├── useRole.ts            # Lấy role người dùng
│   │   └── useToast.ts
│   │
│   ├── lib/
│   │   ├── contractABI.json      # ABI import từ Hardhat
│   │   ├── constants.ts          # Địa chỉ contract, network
│   │   ├── blockchain.ts         # Hàm tiện ích gọi ethers
│   │   └── formatters.ts
│   │
│   ├── services/
│   │   ├── student.service.ts
│   │   ├── teacher.service.ts
│   │   ├── subject.service.ts
│   │   └── grade.service.ts
│   │
│   ├── store/
│   │   ├── userStore.ts          # Zustand hoặc Context API
│   │   └── contractStore.ts
│   │
│   ├── styles/
│   │   ├── globals.css
│   │   ├── dashboard.css
│   │   └── variables.css
│   │
│   └── utils/
│       ├── roleCheck.ts
│       ├── dateFormatter.ts
│       └── storage.ts


Admin được xem như “superuser”:
CRUD Giảng viên
CRUD Sinh viên
CRUD Môn học
CRUD Điểm
Truy cập trang Blockchain Info

Giảng viên có nhiệm vụ:
Thêm môn học
Thêm sinh viên vào lớp của mình
Nhập điểm cho môn mình dạy
Xem lịch sử giao dịch điểm mình nhập

Sinh viên có 3 trang chính:
Trang thông tin cá nhân
Xem điểm
Xem lịch sử điểm (on-chain events)

Module FE
Module	Mô tả	Liên kết với Smart Contract
Auth	Kết nối ví MetaMask, xác định vai trò	Kiểm tra địa chỉ ví trong contract AccessControl
Student	CRUD sinh viên, tra cứu điểm	StudentManager.sol, GradeManager.sol
Teacher	CRUD giảng viên, thêm điểm	AccessControl.sol, GradeManager.sol
Subject	Quản lý môn học	SubjectManager.sol
Grade	Ghi / đọc điểm, xem lịch sử	GradeManager.sol
Blockchain	Hiển thị thông tin contract, transaction hash	Tất cả các contract
UI Components	Giao diện: Button, Table, Modal	FE-only
Hooks	Quản lý logic tái sử dụng (ethers.js, MetaMask)	FE ↔ Blockchain

blockchain/
│
├── package.json
├── hardhat.config.js
├── .env
│
├── contracts/
│   ├── AccessControl.sol        # Quản lý quyền (Admin / Teacher / Student)
│   ├── StudentManager.sol       # Lưu danh sách sinh viên
│   ├── SubjectManager.sol       # Lưu danh sách môn học
│   └── GradeManager.sol         # Ghi / đọc điểm
│
├── scripts/
│   ├── deploy.js                # Triển khai contract
│   ├── addSampleData.js         # Thêm dữ liệu mẫu
│   ├── verifyContract.js
│   └── interact.js              # Gọi thử hàm contract
│
├── test/
│   ├── accessControl.test.js
│   ├── studentManager.test.js
│   ├── subjectManager.test.js
│   ├── gradeManager.test.js
│   └── integration.test.js      # Test tổng hợp
│
├── artifacts/                   # Tự sinh (ABI, bytecode)
└── cache/

Module Smart Contract
Module	File	Vai trò
Access Control	AccessControl.sol	Phân quyền admin / teacher / student
Student Management	StudentManager.sol	CRUD sinh viên (id, name, address)
Subject Management	SubjectManager.sol	CRUD môn học (id, name, credit)
Grade Management	GradeManager.sol	Ghi, cập nhật, xem điểm
Deployment Scripts	scripts/deploy.js	Deploy tất cả contract & log địa chỉ
Testing	test/*.js	Kiểm thử logic (Mocha + Chai)



Flow đăng nhập + liên kết ví blockchain

User đăng nhập bằng tài khoản (email/password)
Frontend gửi request /login tới backend.
Backend xác thực email/password (MongoDB User).
Nếu hợp lệ → backend trả về JWT access token + refresh token.
JWT này dùng để xác thực các API khác (role-based).
Liên kết ví blockchain
Sau khi login, frontend yêu cầu user kết nối ví (MetaMask, Phantom…).
User sign message trên ví để chứng minh quyền sở hữu địa chỉ blockchain.
Frontend gửi address ví + signature tới backend kèm JWT xác thực user.
Backend xác minh signature
Dùng thư viện ethers.js hoặc web3.js để verify signature.
Nếu hợp lệ → backend lưu địa chỉ ví vào document User MongoDB.
Ví này sẽ dùng để call smart contract thêm grade hoặc đọc grade.
Sử dụng blockchain
Khi Teacher thêm điểm → backend kiểm tra role JWT → call smart contract từ Teacher wallet hoặc backend wallet.
Student muốn xem điểm → backend đọc từ blockchain dựa trên address ví đã liên kết.